<html>
    <head>
        <title> Homework 5 </title>

        <div class= "background">
        <link type= "text/css" rel="stylesheet" href="hw05_style.css">
        <meta name='viewport'>
        
    </head>

    <header>
        
            <h1>
                <strong>
                    Amicable Numbers
                </strong>
            </h1>
        
            
    </header>    
    
    <body>
        <h2 id =info>
            Are your numbers amicable? Find out below:
        </h2>


        <form name="myForm" style="text-align: center">

            <input id = "form1" type="text" name="valueA">
            <input id = "form2" type="text" name="valueB">

            <br>
            <br>
              <center><button id="button1" style="text-align: center; background-color: #f8d0c3; font-size: 20px;
            border: 2px solid; border-color: rgba(156, 120, 48, 0.447);
            color: #dff7f8; background-color: #416f9a; 
            font-family: sans-serif;" type= "button" onclick=showit()> Calculate it! </button></center>

        </form>

        <br>
        <script>
            //on button click, calculate the info with go and display the content
            function showit()
            {
                go();

                var x = document.getElementById("answer");
                x.style.display = "block";

                var y = document.getElementById("factors");
                y.style.display = "block";

                var z = document.getElementById("button1");
                z.style.backgroundColor = "#75c590";

            }
        </script>

    <div class=back>

    
        <div id =answer style="display: none; color:#0a275ec7">
        
        The numbers:
        <strong><span id="input1"></span></strong>

        and 
        <strong><span id="input2"></span></strong>

        are 
        <strong><div id="result"></span></strong>

        </div>


        
        <div id = factors style="display:none; 
        border-top:rgba(48, 91, 156, 0.447) solid 3px;">

        <strong><span id="num1"></span></strong>



        's factors are: 
        
        <strong><span id="afactors"></span></strong>
        <br>
        


        <strong><span id="num2"></span></strong>
        's factors are:

        <strong><span id="bfactors"></span></strong>


        </div>

</div>
</div>

        <script>
    
            //like a main function, uses the form1/2 values to get the factors
        function go()
        {
                
            a = (document.getElementById("form1").value);
            b = (document.getElementById("form2").value);
            document.getElementById("input1").innerHTML = a;
            document.getElementById("input2").innerHTML = b;
            document.getElementById("num1").innerHTML = a;
            document.getElementById("num2").innerHTML = b;

            getfactors(a,b);
        
        }


        //calls factorsof for a/b, the user inputs 
        //changes html display to show factors
        //then gets the sum of these factors
        function getfactors(one,two)
        {
            
            afactors = (factorsof(one));
            bfactors = (factorsof(two));

            document.getElementById("afactors").innerHTML = afactors;
            document.getElementById("bfactors").innerHTML = bfactors;
            
            getsum(afactors, bfactors);
            
          
        }

        //calculates the sum of afactors and bfactors array
        //then calls finalize
        function getsum(afactors,bfactors)
        {
            asum = sumfact(afactors);
            bsum = sumfact(bfactors);

            finalize(asum,bsum);   

        }

        //determines (not)amicable based on both factor arrays' sum
        //if factor sum equal opposite number, then true
        function finalize(asum,bsum)
        {
            result = "NULL";
            if (amicable(asum,bsum))
                result = "amicable";
            else
            {
                result = "not amicable";
            }
            
            document.getElementById("result").innerHTML = result;
            
        }
        
        //true/false if amicable (factors sum equal opposite number)
        function amicable(asum, bsum)
            {
            if (asum == b)
            {
                if (bsum == a)
                    return true;
            }
            else
                return false;
            }

        //calculates sum of an array input (all the factors of a number)
        function sumfact(factarray)
        {
            sum = 0;
            for (i = 0; i < factarray.length; i++)
            {
                sum+=parseInt(factarray[i]);   
            }
            return sum;
        }
        
        //creates array of all number's factors
        function factorsof(input)
        {
            input = parseInt(input);
            factors = [];
            if (input == 0)
            {
                factors.push(0);
                return factors;
            }

            for (i = 0; i < input; i++)
            {
                if(input % i == 0)
                {
                    factors.push(i);
                }
                else
                {}
            }
            return factors;
        }
        </script>

    </body>

<footer>


       <div class="banner">
            Thanks for visiting our
            <a href = https://esharo02.github.io/eyalibali/hw05 target = "_blank" > website!</a>
       </div>
</footer>
</div>

</html>

